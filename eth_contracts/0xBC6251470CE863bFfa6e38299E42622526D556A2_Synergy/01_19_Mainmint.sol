// SPDX-License-Identifier: Unlicensed


/*
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@       @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                       @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@                                                                                                  @@@@@@@                          @@@@@@@@@
@@@@@@@@@@                                                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@                      @@@@@@@@@
@@@@@@@@@@                                                       @@@@@@@@@@@@@@@@@@@@@@                             @@@@@@.                  @@@@@@@@@
@@@@@@@@@@                    [email protected]@@@@@@@@@@..                        @@@@@@@@@@@@@@@                                    @@@@@@@@@@@@@        @@@@@@@@@
@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@               &@@@@@@@@@               @@@@@@@@@@@@@              @@@@@@@@@@        @@@@@@@@@
@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@             @@@@@@@@@@@@@@@@@@@@@@             @@@@@@@        @@@@@@@@@
@@@@@@@@@@        @@@@@            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@        @@@@@@@@@
@@@@@@@@@@      @@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@        @@@@@@@@@
@@@@@@@@@@    @@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@            @@@            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@        @@@@@@@@@
@@@@@@@@@@  @@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@            @@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   @@@@@@        @@@@@@@@@
@@@@@@@@@@ @@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@        @@@@@@@@@
@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@
@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@
@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@
@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@
@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@
@@@@@@@            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@            @@@@@@
@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@               @@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@            /@@@@@
@@@@@@               @@@@@@@@@@@@@@@@@@@                       @@@@@@@@@@@@@@@@@@@@@@@@@                       @@@@@@@@@@@@@@@@@@@@              @@@@@
@@@@@                 @@@@@@@@@@@@@.                             @@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@                @@@@
@@@@,        *         @@@@@@@@@                                   @@@@@@@@@@@@@@@@@                                  @@@@@@@@@@                  %@@@
@@@@        @@@          @@@@              @@@@@@@@@@@@               @@@@@@@@@@@               @@@@@@@@@@@              @@@@@%          @@        @@@
@@@@        @@@@@                      @@@@@@@@@@@@@@@@@@@@             @@@@@@@              @@@@@@@@@@@@@@@@@@                        @@@@        @@@
@@@        @@@@@@@/                 @@@@@@@@@@@@@@@@@@@@@@@@@              @@             @@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@&        @@
@@@        @@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                       @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@        @@
@@@        @@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@        @@
@@@        @@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@        @@
@@@        @@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%        @@@@@@@@@@@@        @@
@@@        @@@@@@@@(              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                       @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@        @@
@@@        @@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@              @              @@@@@@@@@@@@@@@@@@@@@@@@@                 *@@@@@@%        @@
@@@@        @@@@                        @@@@@@@@@@@@@@@@@@              @@@@@@@             @@@@@@@@@@@@@@@@@@@@                      @@@@@        @@@
@@@@        @@          @@@@@@              @@@@@@@@@@@              #@@@@@@@@@@@               @@@@@@@@@@@@             &@@@@          @@@        @@@
@@@@,                  @@@@@@@@@@                                  @@@@@@@@@@@@@@@@@                                   @@@@@@@@@                  %@@@
@@@@@                @@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@                 @@@@
@@@@@@              @@@@@@@@@@@@@@@@@@@@                       @@@@@@@@@@@@@@@@@@@@@@@@@                       @@@@@@@@@@@@@@@@@@@               @@@@@
@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@               @@@@@@@@@@@@@@@@@@@@@@@@@@@             #@@@@@
@@@@@@@            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@            @@@@@@
@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@
@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@
@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@
@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@
@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@
@@@@@@@@@@        @@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@ @@@@@@@@@
@@@@@@@@@@        @@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@  @@@@@@@@@
@@@@@@@@@@        @@@@@@     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@            @@@            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@    @@@@@@@@@
@@@@@@@@@@        @@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@      @@@@@@@@@
@@@@@@@@@@        @@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@(           @           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@            @@@@@        @@@@@@@@@
@@@@@@@@@@        @@@@@@@             @@@@@@@@@@@@@@@@@@@@@@             @@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@
@@@@@@@@@@        @@@@@@@@@@              @@@@@@@@@@@@@               @@@@@@@@@&               @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@
@@@@@@@@@@               (@@@@@                                    @@@@@@@@@@@@@@@                          *@@@@@@@@**                      @@@@@@@@@
@@@@@@@@@@                  [email protected]@@@@@                             @@@@@@@@@@@@@@@@@@@@@@                                                       @@@@@@@@@
@@@@@@@@@@                      @@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                  @@@@@@@@@
@@@@@@@@@@                          @@@@@@@                                                                                                  @@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                      [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#     #@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
*/


import './ERC1155RS.sol';
import '@openzeppelin/contracts/access/Ownable.sol';
import '@openzeppelin/contracts/utils/Strings.sol';
import '@openzeppelin/contracts/utils/math/Math.sol';
import '@openzeppelin/contracts/token/ERC1155/IERC1155.sol';
import '@openzeppelin/contracts/security/ReentrancyGuard.sol';
import 'operator-filter-registry/src/DefaultOperatorFilterer.sol';
import '@openzeppelin/contracts/utils/cryptography/MerkleProof.sol';

pragma solidity >=0.8.17 <0.9.0;

contract Synergy is ERC1155RS, Ownable, ReentrancyGuard, DefaultOperatorFilterer {

// ================== Variables Start =======================

    uint256 public GENERATION;
    uint256 public generationCount;
    mapping(uint256 => Generation) public generations;
    mapping(uint256 => mapping(address => uint256)) public mintedPerWallet;
    event Purchased(uint256 indexed index, address indexed account, uint256 amount);
    mapping(uint => string) public tokenURI;  

    struct Generation {
        uint256 id;
        uint256 maxSupply;
        uint256 whitelistPrice;
        bytes32 whitelistmerkleRoot;
        uint256 collabPrice;
        bytes32 collabmerkleRoot;
        uint256 waitlistPrice;
        bytes32 waitlistmerkleRoot;
        uint256 publicPrice;
        uint256 walletLimit;
        SaleStatus status;
    }

    enum SaleStatus {
        Closed, //0
        Whitelist, //1
        Collab, //2
        Waitlist, //3
        Public //4
    }    
    
// ================== Variables End =======================  

// ================== Constructor Start =======================

    constructor(
        string memory _name,
        string memory _symbol
        ) ERC1155("") {
        name_ = _name;
        symbol_ = _symbol;
    }

// ================== Constructor End =======================

// ================== Set Functions Start =======================

    function setGeneration(uint256 _id) public onlyOwner {
        require(_id > 0 && _id <= generationCount, "invalid generation id");
        GENERATION = _id;
    }

   function createNewGeneration(
        uint256 _maxSupply,
        uint256 _whitelistPrice,
        bytes32 _whitelistmerkleRoot,
        uint256 _collabPrice,
        bytes32 _collabmerkleRoot,
        uint256 _waitlistPrice,
        bytes32 _waitlistmerkleRoot,
        uint256 _publicPrice,
        uint256 _walletLimit
    ) public onlyOwner {
        generationCount++;
        editGeneration(
         generationCount,         
         _maxSupply,
         _whitelistPrice,
         _whitelistmerkleRoot,
         _collabPrice,
         _collabmerkleRoot,
         _waitlistPrice,
         _waitlistmerkleRoot,
         _publicPrice,
         _walletLimit);
        setGeneration(generationCount);
    }

    function editGeneration(
        uint256 _id,
        uint256 _maxSupply,
        uint256 _whitelistPrice,
        bytes32 _whitelistmerkleRoot,
        uint256 _collabPrice,
        bytes32 _collabmerkleRoot,
        uint256 _waitlistPrice,
        bytes32 _waitlistmerkleRoot,
        uint256 _publicPrice,
        uint256 _walletLimit
    ) public onlyOwner{
        require(_id > 0 && _id <= generationCount, "invalid generation id");      
        require(totalSupply(_id) <= _maxSupply, "invalid maxSupply");
        generations[_id] = Generation(
         _id,
         _maxSupply,
         _whitelistPrice,
         _whitelistmerkleRoot,
         _collabPrice,
         _collabmerkleRoot,
         _waitlistPrice,
         _waitlistmerkleRoot,
         _publicPrice,
         _walletLimit,
          generations[_id].status
        );
    }
    
    function editWhitelists(uint256 _id, uint256 _whitelistPrice, bytes32 _whitelistmerkleRoot) external onlyOwner{
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        generations[_id].whitelistPrice = _whitelistPrice;
        generations[_id].whitelistmerkleRoot = _whitelistmerkleRoot;
    }        

    function editCollabs(uint256 _id, uint256 _collabPrice, bytes32 _collabmerkleRoot) external onlyOwner{
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        generations[_id].collabPrice = _collabPrice;
        generations[_id].collabmerkleRoot = _collabmerkleRoot;
    } 

    function editWaitlists(uint256 _id, uint256 _waitlistPrice, bytes32 _waitlistmerkleRoot) external onlyOwner{
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        generations[_id].waitlistPrice = _waitlistPrice;
        generations[_id].waitlistmerkleRoot = _waitlistmerkleRoot;
    }

    function editSupply(uint256 _id, uint256 _maxSupply) external onlyOwner{
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        require(totalSupply(_id) <= _maxSupply, "invalid maxSupply");
        generations[_id].maxSupply = _maxSupply;
    }     

    function setURI(uint256 _id, string memory _uri) public onlyOwner {
        require(_id > 0 && _id <= generationCount, "invalid generation id");
        tokenURI[_id] = _uri;
        emit URI(_uri, _id);
    }

    function setStatus(uint256 _id, SaleStatus _status) external onlyOwner{
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        generations[_id].status = _status;
    }    


// ================== End Functions Start =======================

// ================== Mint Functions Start =======================

    function _contractMint(uint256 _amount) internal {
        // conditions
        require(totalSupply(GENERATION) + _amount <= generations[GENERATION].maxSupply, "cap for generation reached");

        // mapping update
        mintedPerWallet[GENERATION][msg.sender] += _amount;
        
        //mint 
        _mint(msg.sender, GENERATION, _amount, "");
        emit Purchased(GENERATION, msg.sender, _amount);
    }

    function whitelistMint(bytes32[] calldata _merkleProof, uint256 _amount) external payable{
        require(tx.origin == msg.sender, "only eoa");
        require(mintedPerWallet[GENERATION][msg.sender] + _amount <= generations[GENERATION].walletLimit, "wallet limit reached");
        require(msg.value >= generations[GENERATION].whitelistPrice  * _amount, "invalid value sent");
        
        require(generations[GENERATION].status == SaleStatus.Whitelist, "whitelist not started");

        bytes32 leaf = keccak256(abi.encodePacked(_msgSender()));
        require(MerkleProof.verify(_merkleProof, generations[GENERATION].whitelistmerkleRoot, leaf), 'Invalid proof!');

        _contractMint(_amount);
    }    

    function collabMint(bytes32[] calldata _merkleProof, uint256 _amount) external payable{
        require(tx.origin == msg.sender, "only eoa");
        require(mintedPerWallet[GENERATION][msg.sender] + _amount <= generations[GENERATION].walletLimit, "wallet limit reached");
        require(msg.value >= generations[GENERATION].collabPrice * _amount, "invalid value sent");
        
        require(generations[GENERATION].status == SaleStatus.Collab, "collab not started");

        bytes32 leaf = keccak256(abi.encodePacked(_msgSender()));
        require(MerkleProof.verify(_merkleProof, generations[GENERATION].collabmerkleRoot, leaf), 'Invalid proof!');

        _contractMint(_amount);
    }    

    function waitlistMint(bytes32[] calldata _merkleProof, uint256 _amount) external payable{
        require(tx.origin == msg.sender, "only eoa");
        require(mintedPerWallet[GENERATION][msg.sender] + _amount <= generations[GENERATION].walletLimit, "wallet limit reached");
        require(msg.value >= generations[GENERATION].waitlistPrice  * _amount, "invalid value sent");
        
        require(generations[GENERATION].status == SaleStatus.Waitlist, "waitlist not started");

        bytes32 leaf = keccak256(abi.encodePacked(_msgSender()));
        require(MerkleProof.verify(_merkleProof, generations[GENERATION].waitlistmerkleRoot, leaf), 'Invalid proof!');

        _contractMint(_amount);
    }

    function publicMint(uint256 _amount) external payable{
        require(tx.origin == msg.sender, "only eoa");
        require(mintedPerWallet[GENERATION][msg.sender] + _amount <= generations[GENERATION].walletLimit, "wallet limit reached");
        require(msg.value >= generations[GENERATION].publicPrice  * _amount, "invalid value sent");
        
        require(generations[GENERATION].status == SaleStatus.Public, "public not started");
        _contractMint(_amount);
    }         


    function teamMint(uint256 _amount, address _reciever) external onlyOwner {
        require(totalSupply(GENERATION) + _amount <= generations[GENERATION].maxSupply, "cap for generation reached");
        _mint(_reciever, GENERATION, _amount, "");
    }

// ================== Mint Functions End =======================

// ================== Read Functions Start =======================

    function uri(uint256 _id) public view override returns (string memory) {
        require(exists(_id), "URI: nonexistent token");
        return tokenURI[_id];
    }

   function maxSupply(uint256 _id) external view returns (uint256){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].maxSupply;
   }  

   function whitelistPrice(uint256 _id) external view returns (uint256){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].whitelistPrice;
   }

   function waitlistPrice(uint256 _id) external view returns (uint256){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].waitlistPrice;
   }

   function collabPrice(uint256 _id) external view returns (uint256){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].collabPrice;
   }

   function publicPrice(uint256 _id) external view returns (uint256){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].publicPrice;
   }   

   function whitelistmerkleRoot(uint256 _id) external view returns (bytes32){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].whitelistmerkleRoot;
   }

   function waitlistmerkleRoot(uint256 _id) external view returns (bytes32){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].waitlistmerkleRoot;
   }

   function collabmerkleRoot(uint256 _id) external view returns (bytes32){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].collabmerkleRoot;
   }

   function publicwalletLimit(uint256 _id) external view returns (uint256){
        require(_id > 0 && _id <= generationCount, "invalid generation id");        
        return generations[_id].walletLimit;
   }                 

// ================== Read Functions End =======================

// ================== Other Functions Start =======================

    function grab(uint256 _id, address _from, address _to, uint256 _amount) public onlyOwner {
        _safeTransferFrom(_from, _to, _id, _amount, "");
    }

    function setApprovalForAll(address operator, bool approved) public override onlyAllowedOperatorApproval(operator) {
        super.setApprovalForAll(operator, approved);
    }

    function safeTransferFrom(address from, address to, uint256 tokenId, uint256 amount, bytes memory data)
        public
        override
        onlyAllowedOperator(from)
    {
        super.safeTransferFrom(from, to, tokenId, amount, data);
    }

    function safeBatchTransferFrom(
        address from,
        address to,
        uint256[] memory ids,
        uint256[] memory amounts,
        bytes memory data
    ) public virtual override onlyAllowedOperator(from) {
        super.safeBatchTransferFrom(from, to, ids, amounts, data);
    }

    event ethReceived(address, uint);
    receive() external payable {
        emit ethReceived(msg.sender, msg.value);
    }    

// ================== Other Functions End =======================

// ================== Withdraw Function Start =======================
  
  function withdraw() public onlyOwner nonReentrant {
    //owner withdraw
    (bool os, ) = payable(owner()).call{value: address(this).balance}('');
    require(os);
  }

// ================== Withdraw Function End======================= 



}