{"SourceCode": "// SPDX-License-Identifier: MIT\r\npragma solidity 0.7.6;\r\n\r\ncontract smart_bank {\r\n    function Deposit(uint _unlockTime) public payable {\r\n        Holder storage acc = Accounts[msg.sender];\r\n        acc.balance += msg.value;\r\n        acc.unlockTime = _unlockTime > block.timestamp ? _unlockTime : block.timestamp;\r\n        LogFile.AddMessage(msg.sender, msg.value, \"Put\");\r\n    }\r\n\r\n    function Collect(uint _am) public payable {\r\n        Holder storage acc = Accounts[msg.sender];\r\n        if (acc.balance > MinSum && acc.balance >= _am && block.timestamp > acc.unlockTime) {\r\n            (bool success, ) = msg.sender.call{value: _am}(\"\");\r\n            if (success) {\r\n                acc.balance -= _am;\r\n                LogFile.AddMessage(msg.sender, _am, \"Collect\");\r\n            }\r\n        }\r\n    }\r\n\r\n    struct Holder {\r\n        uint unlockTime;\r\n        uint balance;\r\n    }\r\n\r\n    mapping(address => Holder) public Accounts;\r\n\r\n    Log LogFile;\r\n\r\n    uint public MinSum = 1 ether;\r\n\r\n    constructor(address log) {\r\n        LogFile = Log(log);\r\n    }\r\n\r\n    fallback() external payable {\r\n        Deposit(0);\r\n    }\r\n\r\n    receive() external payable {\r\n        Deposit(0);\r\n    }\r\n}\r\n\r\ncontract Log {\r\n    event Message(address indexed Sender, string Data, uint Val, uint Time);\r\n\r\n    function AddMessage(address _adr, uint _val, string memory _data) external {\r\n        emit Message(_adr, _data, _val, block.timestamp);\r\n    }\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"log\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"Accounts\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"unlockTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_am\",\"type\":\"uint256\"}],\"name\":\"Collect\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_unlockTime\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MinSum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}]", "ContractName": "smart_bank", "CompilerVersion": "v0.7.6+commit.7338295f", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "000000000000000000000000441f6fb6e9506082625fe0b973025ef65badf584", "EVMVersion": "Default", "Library": "", "LicenseType": "GNU GPLv3", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://272bfcb5a2ff134693b415f9c0cf3fdbb167123439d4de4db6e757a6a78c1bb4"}