{"SourceCode": "# @version ^0.3.9\r\n\r\nfrom vyper.interfaces import ERC20\r\n\r\ninterface IWeth:\r\n    def deposit(): nonpayable\r\n    def withdraw(amount: uint256): nonpayable\r\n\r\nweth: immutable(address)\r\nblur: immutable(ERC20)\r\ntreasury: immutable(address)\r\nUNISWAP_ROUTER: immutable(address)\r\n\r\nmanager: address\r\n\r\n@external\r\ndef __init__(_weth: address, _blur: address, _treasury: address, _uniswap_router: address):\r\n    weth = _weth\r\n    blur = ERC20(_blur)\r\n    treasury = _treasury\r\n    UNISWAP_ROUTER = _uniswap_router\r\n    self.manager = msg.sender\r\n\r\n@payable\r\n@external\r\ndef __default__():\r\n    pass\r\n\r\nevent ForwardedToTreasury:\r\n    amount: uint256\r\n\r\n@internal\r\ndef _forwardToTreasury():\r\n    balance: uint256 = ERC20(weth).balanceOf(self)\r\n    log ForwardedToTreasury(balance)\r\n    IWeth(weth).withdraw(balance)\r\n    send(treasury, self.balance)\r\n\r\n@external\r\ndef forwardToTreasury():\r\n    self._forwardToTreasury()\r\n\r\n@external\r\ndef withdraw(token: address):\r\n    assert msg.sender == self.manager\r\n    ERC20(token).transfer(msg.sender, ERC20(token).balanceOf(self))\r\n\r\n\r\nstruct ExactInputSingleParams:\r\n    tokenIn: address\r\n    tokenOut: address\r\n    fee: uint24\r\n    recipient: address\r\n    deadline: uint256\r\n    amountIn: uint256\r\n    amountOutMinimum: uint256\r\n    sqrtPriceLimitX96: uint160\r\n\r\ninterface IUniswapV3Router:\r\n    def exactInputSingle(params: ExactInputSingleParams) -> uint256: payable\r\n\r\n@external\r\ndef forward_blur(amount_out_min: uint256):\r\n    # convert this contract's blur to weth\r\n\r\n    blur.approve(UNISWAP_ROUTER, blur.balanceOf(self))\r\n    params: ExactInputSingleParams = ExactInputSingleParams({\r\n        tokenIn: blur.address,\r\n        tokenOut: weth,\r\n        fee: 3000,\r\n        recipient: self,\r\n        deadline: block.timestamp,\r\n        amountIn: blur.balanceOf(self),\r\n        amountOutMinimum: amount_out_min,\r\n        sqrtPriceLimitX96: 0\r\n    })\r\n\r\n    IUniswapV3Router(UNISWAP_ROUTER).exactInputSingle(params)\r\n\r\n    # forward weth to treasury\r\n    self._forwardToTreasury()", "ABI": "[{\"name\":\"ForwardedToTreasury\",\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\",\"indexed\":false}],\"anonymous\":false,\"type\":\"event\"},{\"stateMutability\":\"nonpayable\",\"type\":\"constructor\",\"inputs\":[{\"name\":\"_weth\",\"type\":\"address\"},{\"name\":\"_blur\",\"type\":\"address\"},{\"name\":\"_treasury\",\"type\":\"address\"},{\"name\":\"_uniswap_router\",\"type\":\"address\"}],\"outputs\":[]},{\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"name\":\"forwardToTreasury\",\"inputs\":[],\"outputs\":[]},{\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"name\":\"withdraw\",\"inputs\":[{\"name\":\"token\",\"type\":\"address\"}],\"outputs\":[]},{\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"name\":\"forward_blur\",\"inputs\":[{\"name\":\"amount_out_min\",\"type\":\"uint256\"}],\"outputs\":[]}]", "ContractName": "Vyper_contract", "CompilerVersion": "vyper:0.3.9", "OptimizationUsed": "0", "Runs": "0", "ConstructorArguments": "000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000005283d291dbcf85356a21ba090e6db59121208b44000000000000000000000000055d0f4ab9922c006220e32b75cf02083c955e93000000000000000000000000e592427a0aece92de3edee1f18e0157c05861564", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": ""}