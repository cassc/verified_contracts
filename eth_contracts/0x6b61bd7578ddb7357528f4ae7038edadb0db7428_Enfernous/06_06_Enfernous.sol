//SPDX-License-Identifier: MIT
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(((@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@((((((((((((@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@((((((((((((((@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(((((((((((((((@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&((((((((((((((((@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@((((((((((((((((((@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@///////((((((((((((@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@/////////////////((((@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@///////////////////////(@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@(//@@@@@@@//////////////////////////@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@(////@@@@@///////////////////////////@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@(/////&@@@&/////////////////  /////////@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@%////////@@////////////////    //////////@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@//////////@%//////////////      /////////@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@#////////////////////////       ,/////////@@@@@@@@////@@@@@@@@@@@@@@
//@@@@@@@@@@@@////////////////////////        .///////////@@@@///////@@@@@@@@@@@@@
//@@@@@@@@@@@////////////////////////          ///////////////////////@@@@@@@@@@@@
//@@@@@@@@@@@////////////////////***            **/////////////////////@@@@@@@@@@@
//@@@@@@@@@@@/////////////////*****.             ****///////////////////@@@@@@@@@@
//@@@@@@@@@@@///////////////*******                ****/////////////////@@@@@@@@@@
//@@@@@@@@@@@/////////////**********                 ***////////////////@@@@@@@@@@
//@@@@@@@@@@@@///////////****.  ****,                  ***//////////////@@@@@@@@@@
//@@@@@@@@@@@@@/////////****,     ***                   ,**////////////@@@@@@@@@@@
//@@@@@@@@@@@@@@///////*****                             ***//////////@@@@@@@@@@@@
//@@@@@@@@@@@@@@@/////******                              ***////////@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@%//*******                             .***///////@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@********..                         .*****////@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@*******,.....               .....******/(@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@******,,,,,.............,,,,******@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@******,,,,,,,,,,,,,******@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

pragma solidity 0.8.15;

import {IZooOfNeuralAutomata} from "../interfaces/IZooOfNeuralAutomata.sol";
import {IERC1155} from "../../lib/forge-std/src/interfaces/IERC1155.sol";
import {Owned} from "../../lib/solmate/src/auth/Owned.sol";

contract Enfernous{

    address immutable zona;
    uint256 immutable startTime;

    address owner;
    uint256 public burned = 0;

    constructor(address _owner, address _zona, uint256 _startTime) {
        owner = _owner;
        zona = _zona;
        startTime = _startTime;
    }

    function mint(uint256 amount) external {
        require(startTime <= block.timestamp || msg.sender == owner);
        require(IERC1155(zona).balanceOf(msg.sender, 1) >= amount);
        require(burned + amount <= 512);

        burned += amount;

        IZooOfNeuralAutomata(zona).burn(msg.sender, 1, amount);
        IZooOfNeuralAutomata(zona).mint(msg.sender, 666, amount);
    }

}