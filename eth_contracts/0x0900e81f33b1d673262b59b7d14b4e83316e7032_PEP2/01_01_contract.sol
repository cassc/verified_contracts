/**

Website - https://pepeiitoken.com/
Telegram - https://t.me/pepeiiportal
Twitter - https://twitter.com/PepeIIToken

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#G5J7!~^::::::::::^~!7YPG#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&BY7~^:::^~!77?JJYYYYYJJJ?7!~~^:::^~?5B&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@BY!:::^!?Y5PGGGGGGGGGGGGGGGGGGBBGGGGP5J7~^::^75#@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@&5!:.:!?5PGGGGGGGGGGGGGGGGGGGGGGGGPPGBGGGGGGGGP5?~:.:7P&@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@&Y^.:~?5GGGGGGGGGGGGGGGGGGGGGGGGGBP5Y??7?BBBBBGPGBGGGG5?~:.~5&@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@P~.:!YPGGGGGGGGGGGGGGGBGBBBG5PGGGGBBG#BGPGBBBBGGP55PGBGGGGGPJ~:[email protected]@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@&J:.^JPGGGGGGGGGGGGGGGGGGGGBGPP5?7GBB###BBBB&#BBBBGP55J7PBGGGGGGGP?^.:Y&@@@@@@@@@@@@@@
@@@@@@@@@@@@&7..!5GGGGGGGGGGGGGGGGGGB5GBBPPPPPPYYPPBGGPGPGBBBB#G5YPYJ?!PGGGGGGGGGGY~.:J&@@@@@@@@@@@@
@@@@@@@@@@&?..!5GGGGGGGGGGGGGGGGGGBGGGBP55YYYYYYYYJ?5BBP5555PB#P5GYJ^..!#GGGGGGGGGGG5~.:[email protected]@@@@@@@@@@
@@@@@@@@@5:.~5GGGGGGGGGGGGGGGGGGBGGB##P5555YYYJJJYYJ?P#BPYJJJ5PBGGBGG&BB&GGGGGGGGGGGGGY^.^[email protected]@@@@@@@@
@@@@@@@&!.:JGGGGGGGGGGGGGGGGGGBP5Y5PB#5GBY!^::....:^?GB5G5YJJ??JY5B&BP5BBGGGGGGGGGGGGGGG?:[email protected]@@@@@@@
@@@@@@G:.~PGGGGGGGGGGGGGGGGGGBGY5JJ5B#P###&@@@@7#@&&##BPPPG5GGPY??JPGJPGGGGGGGGGGGGGGGGGG5^.^#@@@@@@
@@@@@5..7GGGGGGGGGGGGGGGGGGBG5GP55P5P#P5P?!?YPPP5Y?75PB555PP###PY??YPJPGBGGGGGGGGGGGGGGGGGG!.:[email protected]@@@@
@@@@Y.:?GGGGGGGGGGGGGGGGGBB5JYPY5YY?P##GPP5?~^^^^[email protected]@@@
@@@5..?GGGGGGGGGGGGGGGGGGBGPPP55PYYJGBB##[email protected]@@
@@B..7GGGGGGGGGGGGGGGGGGGBP5J5JYY5P5P55PBBBB#BBBGPYJ??JJJJYYY555PPPPPGG5BGGGGGGGGGGGGGGGGGGGGG!.:&@@
@@^.~GGGGGGGGGGGGGGGGGGGG#BPPPP555YJJJYYJJJYJJJJJY5PGGGGGGPPPP555YYYJJ77GGGGGGGGGGGGGGGGGGGGGGP^[email protected]@
@5.:5GGGGGGGGGGGGGGGGGGGB#PPBPGPYYY5[email protected]
@^.~GGGGGGGGGGGGGGGGGGBY5BPB#BBP5GBP5PPPPPPP5YYYYYYYYYJJJJJJJJY5YJJJPBGGGGGGGGGGGGGGGGGGGGGGGGGG^[email protected]
P..YGGGGGGGGGGGGGGGGGBG~?#PG###BPPBBP5YYYY555555YYYJJJJJJJJJJYYJJ??BGGGGGGGGGGGGGGGGGGGGGGGGGGGG?..B
7.:PGGGGGGGGGGGGGGGGGP~~~G#GGBB##GGGGPPP55555YYYYYYYYYYYYYYYYYJJ?7PBGGGGGGGGGGGGGGGGGGGGGGGGGGGG5:.J
^.^GGGGGGGGGGGGGGGGGBY!^!~B#BGBGGBBBGGPPPP55YYJYYYJY55555JJJJYYJ77BBGGGGGGGGGGGGGGGGGGGGGGGGGGGGG^.^
:.~GGGGGGGGGGGGGGGGGGYY^~!^G#B##BGPGBBBGGPPPGGGPP5YYYYYYJJY555Y5P5GYPGBGGGGGGGGGGGGGGGGGGGGGGGGGG~.:
:.~GGGGGGGGGGGGGGBP?!!?5^!^:Y#####GGPPGGGPPPPPP555YYYYYJJYYY5555YY7.^~JGBGGGGGGGGGGGGGGGGGGGGGGGG~.:
^.^GGGGGGGGGGGGGGB~^~J^75^!^.7####GPGGGPPPPP55PP55Y555YY55Y55JY5BB?:...:!PG5PPGGGGGGGGGGGGGGGGGGG^.^
7.:PGGGGGGGGGGB###?^^^!^^J~~:.?#BBBGPPPPPPPPP555555Y5P5Y5555Y555###BJ: ..:YGPJYGBGGGGGGGGGGGGGGG5:.J
P..YGGGGGGGGB###B##Y~^:~!:!~^:.G##GP5Y5555555555YY555555YYY5YJPPGGG#BP?....~BBG??BGGGGGGGGGGGGGG?..B
@^.~GGGGGGGBBBBBBBG#Y^::~7:^^:.^##P555P5PP5P5Y5555555YP5YP55PPJY5Y5#BPY5~.. :B#P?JBGGGGGGGGGGGGG^[email protected]
@5.:YGGGGB#GBBBBGP5G#Y^::^7:^::.7#G7~7??JYYYYYYYYYYYJJ??????7^^Y5?JGG#B7J7:[email protected]
@@~.^GGGB##BGGPP5PPGB#Y^:^:7^:::.5#P!::^~~~~^::::::::::::::::~7YYYYPP##B!7?^.. ^GBPJPBGGGGGGGGP:[email protected]@
@@#:.!GGB#BBBBGPPP55PB#J::^:~:::.:BBPJ~::^^~~~^::.......::^^^:!YJ55GJ5##B~!?^:...GBP55GGGGGGGG~.:&@@
@@@G..7G##BBBBBBGP5PPGB#7^^~.::::.!#GY5J^..::^^^^^^^^^^^::::::JY5Y5555G#&G~7?~:.^?JPPYPBGGGGG!.:[email protected]@@
@@@@P..7##BBBBGGGPP5PGB#B7~!~..:::.5B?J55?~::::::::::...::^^.^YY5YPJJPPB#&J!77!7J?5BPPG5JGBG7.:[email protected]@@@
@@@@@G:.7B#BBGBGGP5555PB&G7~J^...:.^BY5P5PP5Y7~~~^^^^^^::....JYJ5JGP555PPPP7J?JJP55GBGBB5PG~.:[email protected]@@@@
@@@@@@&~.^P#BBBBGPPP555P#&Y?75:..::.PBYJY55PP57^:::::...::^~J5JY5YPJPPPPGYJY5GY5GPJ75PPGP?:.~&@@@@@@
@@@@@@@@Y::7GGP5YJY55P5PBBBJ?5?...:.7#YJYJY5Y5P5J!^^^^:^!?Y5YY55YPYY???J5PYJ77J55Y7?Y!~!^..!&@@@@@@@
@@@@@@@&#7:^7?JJJJ?7!7Y5GBBPJJP:....:#GY5YJYYY55555J!~!?Y555YY55PYJ7:777?????77~::[email protected]@@@@@
@@@@G???J5PGJ!~~7?JPPY!~JGGB5YP^.....G#PP5Y5JJ5YYYP55PY5Y555Y5P5YP55J?77~PGB5^!!?Y?7~~PGB5~PG#@@@@@@
@@@@5~JGGGG~J5:.^?7~YBG5!~5BGY5^.... JP?7Y?77!?Y5YYYY?77YPYPPYJ555PPPPPP:YGGJ:JYJ?!^..YGGJ^@@@@@@@@@
@@@@@@^YGGP:@@@P~.^^:5GGG?^PP7!YY7:.:!?5!^?55Y7~JP!7~?5?!7?GY?YP5PPP55GG:YGGJ^Y!^..~5^YGGJ^@@@@@@@@@
@@@@@@!?GGP:BBPY~Y?:.7GGGG~^~Y5YGBG!^PGG5YYYPBG5^!^?5YPBG?:55?YP5P55PG#B:YGGJ:^.:[email protected]@^JGGJ^@@@@@@@@@
@@@@@@!?GGP!?Y7!7&@@!!GGGG~~GY.^JJ^..?GGJ:J7~7GGY:5G^:7Y!~?5P?Y555PG##BJ:YGGJ:[email protected]@@@@^JGGJ^@@@@@@@@@
@@@@@@[email protected]@@@@^YGGG?.?B5?7~7:..7GG?^GGP^7BY~GG?7!!JJ55BY5GPPGGGY^::[email protected]@@@@@@^JGGJ^@@@@@@@@@
@@@@@@[email protected]@@B~?GGP!?J~GB5~^!~^.7GGP~7J?~YG~:PBG!~!!77JBYJJ7!~::^!J:[email protected]@@@@@@^JGGJ^@@@@@@@@@
@@@@@@[email protected]@J!YGGGPP~.7GGGG5Y5PY^:^:JPGGPP7..:J!J?~~?PJ55~5GG5~PGB#PP5~5GG5~PGB#@@@@@
@@@@@@!?GGP:77JJJJJ??Y#@@@@@&Y???J!P?!GG7~JJ??!~~~~~7??J775GBPY5PGPBP^77??????!!?:^77??????!!?:[email protected]@@@
@@@@@@!?GGP:@@&###&@@@@@@@@@@@@@&&@@[email protected]&@@@@@@@@@@&&&@@@@@@@@@@@@@@@@@@@@@&[email protected]@@@@@@@@&[email protected]@@@@
@@@@@@!?BGG!J&@@@@@@@@@@@@@@@@@@@@@@[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@J~7777^[email protected]@@@@@@@@@@@@@@@@@@@@@#?JJ?#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

*/
// SPDX-License-Identifier: NONE

pragma solidity 0.8.19;

abstract contract Context {
    function _msgSender() internal view virtual returns (address) {
        return msg.sender;
    }
}

contract Ownable is Context {
    address private _owner;
    address private _previousOwner;
    event OwnershipTransferred(
        address indexed previousOwner,
        address indexed newOwner
    );

    constructor() {
        address msgSender = _msgSender();
        _owner = msgSender;
        emit OwnershipTransferred(address(0), msgSender);
    }

    function owner() public view returns (address) {
        return _owner;
    }

    modifier onlyOwner() {
        require(_owner == _msgSender(), "Ownable: caller is not the owner");
        _;
    }

    function transferOwnership(address newOwner) public onlyOwner {
        _transferOwnership(newOwner);
    }

    function _transferOwnership(address newOwner) internal {
        require(
            newOwner != address(0),
            "Ownable: new owner is the zero address"
        );
        emit OwnershipTransferred(_owner, newOwner);
        _owner = newOwner;
    }

    function renounceOwnership() public virtual onlyOwner {
        emit OwnershipTransferred(_owner, address(0));
        _owner = address(0);
    }
}

interface IERC20 {
    function totalSupply() external view returns (uint256);

    function transfer(address recipient, uint256 amount)
        external
        returns (bool);

    function allowance(address owner, address spender)
        external
        view
        returns (uint256);

    function approve(address spender, uint256 amount) external returns (bool);

    function balanceOf(address account) external view returns (uint256);

    function transferFrom(
        address sender,
        address recipient,
        uint256 amount
    ) external returns (bool);

    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(
        address indexed owner,
        address indexed spender,
        uint256 value
    );
}

interface IUniswapV2Factory {
    function createPair(address tokenA, address tokenB)
        external
        returns (address pair);
}

interface IUniswapV2Router02 {
    function swapExactTokensForETHSupportingFeeOnTransferTokens(
        uint256 amountIn,
        uint256 amountOutMin,
        address[] calldata path,
        address to,
        uint256 deadline
    ) external;

    function factory() external pure returns (address);

    function WETH() external pure returns (address);
}

contract PEP2 is Context, IERC20, Ownable {
    IUniswapV2Router02 immutable uniswapV2Router;
    address immutable uniswapV2Pair;
    string private constant _name = "Pepe The Second";
    string private constant _symbol = "PEPEII";
    address immutable WETH;
    address payable immutable marketingWallet;
    uint256 private constant _totalSupply = 150_000_000_000e18;
    uint256 private constant onePercent = 7_500_000_000e18;
    uint256 private constant minSwap = 800_000e18;
    mapping(address => uint256) private _balance;
    mapping(address => mapping(address => uint256)) private _allowances;
    mapping(address => bool) private _isExcludedFromFeeWallet;
    uint256 public maxTxAmount = onePercent; 
    uint8 private constant _decimals = 18;
    uint256 public buyTax;
    uint256 public sellTax;
    uint8 private launch;
    uint8 private inSwapAndLiquify;
    uint256 private launchBlock;


    constructor() {
        uniswapV2Router = IUniswapV2Router02(
            0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D
        );
        WETH = uniswapV2Router.WETH();
        buyTax = 2;
        sellTax = 2;

        uniswapV2Pair = IUniswapV2Factory(uniswapV2Router.factory()).createPair(
            address(this),
            WETH
        );

        marketingWallet = payable(0x9b443F44c9Db4692eE4277fB9cC920Ae975Da5B1);
        _balance[msg.sender] = _totalSupply;
        _allowances[address(this)][address(uniswapV2Router)] = type(uint256)
            .max;
        _isExcludedFromFeeWallet[marketingWallet] = true;
        _isExcludedFromFeeWallet[msg.sender] = true;
        _isExcludedFromFeeWallet[address(this)] = true;
        _allowances[msg.sender][address(uniswapV2Router)] = type(uint256).max;
        _allowances[marketingWallet][address(uniswapV2Router)] = type(uint256)
            .max;


        emit Transfer(address(0), _msgSender(), _totalSupply);
    }

    function name() public pure returns (string memory) {
        return _name;
    }

    function symbol() public pure returns (string memory) {
        return _symbol;
    }

    function transfer(address recipient, uint256 amount)
        public
        override
        returns (bool)
    {
        _transfer(_msgSender(), recipient, amount);
        return true;
    }    

    function decimals() public pure returns (uint8) {
        return _decimals;
    }

    function totalSupply() public pure override returns (uint256) {
        return _totalSupply;
    }

    function balanceOf(address account) public view override returns (uint256) {
        return _balance[account];
    }    

    function allowance(address owner, address spender)
        public
        view
        override
        returns (uint256)
    {
        return _allowances[owner][spender];
    }

    function toggleTax(uint256 newBuyTax, uint256 newSellTax) external onlyOwner {
        buyTax = newBuyTax;
        sellTax = newSellTax;
    }    

    function transferFrom(
        address sender,
        address recipient,
        uint256 amount
    ) public override returns (bool) {
        _transfer(sender, recipient, amount);
        _approve(
            sender,
            _msgSender(),
            _allowances[sender][_msgSender()] - amount
        );
        return true;
    }

    function enableTrading() external onlyOwner {
        launch = 1;
        launchBlock = block.number;
    }
  
    function _approve(
        address owner,
        address spender,
        uint256 amount
    ) private {
        require(owner != address(0), "ERC20: approve from the zero address");
        require(spender != address(0), "ERC20: approve to the zero address");
        _allowances[owner][spender] = amount;
        emit Approval(owner, spender, amount);
    }

    function approve(address spender, uint256 amount)
            public
            override
            returns (bool)
        {
            _approve(_msgSender(), spender, amount);
            return true;
        }

    function excludeFromLimits(address wallet) external onlyOwner {
            _isExcludedFromFeeWallet[wallet] = true;
        }

    function disableLimits() external onlyOwner {
        maxTxAmount = _totalSupply;
    }   

    function _transfer(
        address from,
        address to,
        uint256 amount
    ) private {
        require(from != address(0), "ERC20: transfer from the zero address");
        require(amount > 1e9, "Min transfer amt");

        uint256 _tax;
        if (_isExcludedFromFeeWallet[from] || _isExcludedFromFeeWallet[to]) {
            _tax = 0;
        } else {
            require(
                launch != 0 && amount <= maxTxAmount,
                "Launch / Max TxAmount 2% at launch"
            );

            if (inSwapAndLiquify == 1) {
                //No tax transfer
                _balance[from] -= amount;
                _balance[to] += amount;

                emit Transfer(from, to, amount);
                return;
            }

            if (from == uniswapV2Pair) {
                _tax = buyTax;
            } else if (to == uniswapV2Pair) {
                uint256 tokensToSwap = _balance[address(this)];
                if (tokensToSwap > minSwap && inSwapAndLiquify == 0) {
                    if (tokensToSwap > onePercent) {
                        tokensToSwap = onePercent;
                    }
                    inSwapAndLiquify = 1;
                    address[] memory path = new address[](2);
                    path[0] = address(this);
                    path[1] = WETH;
                    uniswapV2Router
                        .swapExactTokensForETHSupportingFeeOnTransferTokens(
                            tokensToSwap,
                            0,
                            path,
                            marketingWallet,
                            block.timestamp
                        );
                    inSwapAndLiquify = 0;
                }
                _tax = sellTax;
            } else {
                _tax = 0;
            }
        }

        //Is there tax for sender|receiver?
        if (_tax != 0) {
            //Tax transfer
            uint256 taxTokens = (amount * _tax) / 100;
            uint256 transferAmount = amount - taxTokens;

            _balance[from] -= amount;
            _balance[to] += transferAmount;
            _balance[address(this)] += taxTokens;
            emit Transfer(from, address(this), taxTokens);
            emit Transfer(from, to, transferAmount);
        } else {
            //No tax transfer
            _balance[from] -= amount;
            _balance[to] += amount;

            emit Transfer(from, to, amount);
        }
    }

    receive() external payable {}
}